(this["webpackJsonpdau-cms"]=this["webpackJsonpdau-cms"]||[]).push([[0],{267:function(e,t,n){},479:function(e,t,n){},481:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(26),l=n.n(i),r=(n(267),n(53)),o=n(62),s=n(493),u=n(494),d=n(495),h=n(491),j=n(492),b=n(487),f=n(52),m=n(484),x=n(126),p=n.n(x),g=n(188),O=n.n(g),y=n(27),v=n(28),k=n(105),C=n(40),I=n(42),S=n(485),N=n(486),w=n(238),T=(Object(w.a)({forceRefresh:!0}),"NORMAL"),E="CHOICE",D=n(10),F=S.a.Text,M=function(e){Object(C.a)(n,e);var t=Object(I.a)(n);function n(e){var a;return Object(y.a)(this,n),(a=t.call(this,e)).closeModal=function(){n.instance.setState({isShow:!1})},a.handleOk=function(){n.instance.state.onPress(),n.instance.closeModal()},a.handleCancel=function(){n.instance.closeModal()},n.instance=Object(k.a)(a),a.state={isShow:!1,title:"",content:"",type:T,onPress:function(){}},a}return Object(v.a)(n,[{key:"render",value:function(){return Object(D.jsx)(N.a,{title:n.instance.state.title,visible:n.instance.state.isShow,centered:!0,onOk:n.instance.handleOk,onCancel:n.instance.handleCancel,footer:n.instance.state.type===T?[Object(D.jsx)(f.a,{type:"primary",onClick:n.instance.handleOk,size:"large",children:"OK"},"okButton")]:[Object(D.jsx)(f.a,{onClick:n.instance.handleCancel,size:"large",children:"H\u1ee7y"},"cancelButton"),Object(D.jsx)(f.a,{size:"large",type:"primary",onClick:n.instance.handleOk,children:"OK"},"okButton")],children:Object(D.jsx)(F,{children:n.instance.state.content})})}}]),n}(c.a.Component);M.instance=null,M.alertMessage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Th\xf4ng b\xe1o",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u0110\xe3 x\u1ea3y ra l\u1ed7i",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};M.instance.setState({isShow:!0,title:e,content:t,type:n,onPress:a})};var B=n(64),A=n.n(B),z=n(240),K=n.n(z),P=n(241),V=n.n(P),H=n(242),X=n(489),R=n(490),L=n(253),Y=n(488),q=n(127),U=S.a.Text,J=q.a().shape({email:q.b().trim().label("Email").email("Email hi\u1ec7n t\u1ea1i kh\xf4ng h\u1ee3p l\u1ec7").required("* Vui l\xf2ng nh\u1eadp email"),phoneNumber:q.b().required("* Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i").matches(/((09|03|07|08|05)+([0-9]{8})\b)/,{message:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng h\u1ee3p l\u1ec7"}),fullname:q.b().trim().required("* Vui l\xf2ng nh\u1eadp t\xean").min(3,"T\xean \xedt nh\u1ea5t 3 k\xed t\u1ef1").matches(/(?:(?![0-9A-Z_a-z\xC0-\xC3\xC8-\xCA\xCC\xCD\xD2-\xD5\xD9\xDA\xDD\xE0-\xE3\xE8-\xEA\xEC\xED\xF2-\xF5\xF9\xFA\u0102\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01A0\u01A1\u01AF\u01B0\u1EA0-\u1EBD\u1EC0-\u1EF9])[\s\S])/,{message:"T\xean kh\xf4ng h\u1ee3p l\u1ec7"})});function Q(e){var t=e.isShow,n=e.closeModal,a=void 0===n?function(){}:n,c=e.downloadQR,i=void 0===c?function(e){}:c,l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};o(e),t("email",""),t("fullname",""),t("phoneNumber",""),a()},o=function(e){var t=(new Date).getTime(),n=Object(Y.a)(),a=Object(r.a)(Object(r.a)({},e),{},{ticketId:n,date:t,enable:!0,checkInfo:{checkCount:0,checkPerson:null}});A.a.database().ref("/tickets").push(a).then((function(e){setTimeout((function(){i(n)}),1e3)})).catch((function(e){return M.alertMessage()}))},s=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};t>0&&"Enter"===e.key&&l(n,a)};return Object(D.jsx)(L.a,{initialValues:{fullname:"",phoneNumber:"",email:""},validationSchema:J,onSubmit:function(e){o(e)},children:function(e){var n=e.handleChange,c=(e.handleBlur,e.handleSubmit,e.values),i=e.isValid,r=e.errors,o=(e.touched,e.setFieldTouched,e.setFieldValue);return Object(D.jsxs)(N.a,{title:"Th\xeam v\xe9",visible:t,centered:!0,footer:[Object(D.jsx)(f.a,{onClick:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};e("email",""),e("fullname",""),e("phoneNumber",""),a()}(o)},size:"large",children:"H\u1ee7y"},"cancelButton"),Object(D.jsx)(f.a,{size:"large",type:"primary",onClick:function(){return l(c,o)},disabled:!i,children:"Th\xeam"},"okButton")],children:[Object(D.jsxs)(X.a,{align:"middle",gutter:16,children:[Object(D.jsx)(R.a,{className:"gutter-row",span:6,children:Object(D.jsx)(U,{children:"T\xean"})}),Object(D.jsxs)(R.a,{style:{display:"flex",flexDirection:"column"},className:"gutter-row",span:18,children:[Object(D.jsx)(b.a,{onChange:n("fullname"),placeholder:"Nguy\u1ec5n V\u0103n A",value:c.fullname,onKeyPress:function(e){return s(e,i,c,o)}}),r.fullname&&Object(D.jsx)(U,{style:{color:"red"},children:r.fullname})]})]}),Object(D.jsxs)(X.a,{align:"middle",gutter:16,style:{marginTop:16},children:[Object(D.jsx)(R.a,{className:"gutter-row",span:6,children:Object(D.jsx)(U,{children:"Email"})}),Object(D.jsxs)(R.a,{style:{display:"flex",flexDirection:"column"},className:"gutter-row",span:18,children:[Object(D.jsx)(b.a,{onChange:n("email"),placeholder:"nguyenvana@gmail.com",value:c.email,type:"email",onKeyPress:function(e){return s(e,i,c,o)}}),r.email&&Object(D.jsx)(U,{style:{color:"red"},children:r.email})]})]}),Object(D.jsxs)(X.a,{align:"middle",gutter:16,style:{marginTop:16},children:[Object(D.jsx)(R.a,{className:"gutter-row",span:6,children:Object(D.jsx)(U,{children:"S\u0110T"})}),Object(D.jsxs)(R.a,{style:{display:"flex",flexDirection:"column"},className:"gutter-row",span:18,children:[Object(D.jsx)(b.a,{onChange:n("phoneNumber"),placeholder:"076XXXXXX",value:c.phoneNumber,type:"tel",onKeyPress:function(e){return s(e,i,c,o)}}),r.phoneNumber&&Object(D.jsx)(U,{style:{color:"red"},children:r.phoneNumber})]})]})]})}})}var W=n(163),Z=(n(389),n(248)),G=n.n(Z),_=function(e,t,n,a,c,i,l){return{filterDropdown:function(n){var c=n.setSelectedKeys,r=n.selectedKeys,o=n.confirm,s=n.clearFilters;return Object(D.jsxs)("div",{style:{padding:8},children:[Object(D.jsx)(b.a,{ref:l,placeholder:t,value:r[0],onChange:function(e){return c(e.target.value?[e.target.value]:[])},onPressEnter:function(){return $(r,o,e,a,i)},style:{width:188,marginBottom:8,display:"block"}}),Object(D.jsxs)(h.b,{children:[Object(D.jsx)(f.a,{type:"primary",onClick:function(){return $(r,o,e,a,i)},icon:Object(D.jsx)(W.a,{}),size:"small",style:{width:90},children:"T\xecm"}),Object(D.jsx)(f.a,{onClick:function(){return ee(s,a)},size:"small",style:{width:90},children:"C\xe0i l\u1ea1i"})]})]})},filterIcon:function(e){return Object(D.jsx)(W.a,{style:{color:e?"grey":void 0}})},onFilter:function(t,n){return n[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return l.current.select()}))},render:function(t){return c===e?Object(D.jsx)(G.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[n],autoEscape:!0,textToHighlight:t.toString()}):t}}},$=function(e,t,n,a,c){t(),c(n),a(e[0])},ee=function(e,t){e(),t("")};var te=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],i=n[1],l=Object(a.useState)(!1),x=Object(o.a)(l,2),g=x[0],y=x[1],v=Object(a.useState)(""),k=Object(o.a)(v,2),C=k[0],I=k[1],S=Object(a.useState)([]),N=Object(o.a)(S,2),w=N[0],T=N[1],F=Object(a.useState)(""),B=Object(o.a)(F,2),z=B[0],P=B[1],X=Object(a.useState)(""),R=Object(o.a)(X,2),L=R[0],Y=R[1],q=Object(a.useRef)();Object(a.useEffect)((function(){return c&&A.a.database().ref("/tickets").on("value",(function(e){var t=e.val(),n=t&&Object.keys(t).length>0?Object.keys(t).map((function(e){return Object(r.a)(Object(r.a)({},t[e]),{},{id:e})})):[];T(n)})),function(){A.a.database().ref("/tickets").off()}}),[c]);var U=function(){"139f3d56ee09b7df537bf53a1ca5175f"===K()(C)?i(!0):M.alertMessage("Th\xf4ng b\xe1o","Sai m\u1eadt kh\u1ea9u")},J=function(e){var t=document.getElementById(e);if(t){var n=t.toDataURL("image/jpg").replace("image/jpg","image/octet-stream"),a=document.createElement("a");a.href=n,a.download="".concat(e,".jpg"),document.body.appendChild(a),a.click(),document.body.removeChild(a)}},W=[Object(r.a)(Object(r.a)({},_("ticketId","Nh\u1eadp ID",z,P,L,Y,q)),{},{title:"ID",dataIndex:"ticketId",key:"ticketId",sorter:function(e,t){return e.ticketId.localeCompare(t.ticketId)}}),Object(r.a)(Object(r.a)({},_("fullname","Nh\u1eadp t\xean",z,P,L,Y,q)),{},{title:"T\xean",dataIndex:"fullname",key:"fullname",sorter:function(e,t){return e.fullname.localeCompare(t.fullname)}}),Object(r.a)(Object(r.a)({},_("email","Nh\u1eadp email",z,P,L,Y,q)),{},{title:"Email",dataIndex:"email",key:"email",sorter:function(e,t){return e.email.localeCompare(t.email)}}),Object(r.a)(Object(r.a)({},_("phoneNumber","Nh\u1eadp S\u0110T",z,P,L,Y,q)),{},{title:"S\u0110T",dataIndex:"phoneNumber",key:"phoneNumber",sorter:function(e,t){return e.phoneNumber.localeCompare(t.phoneNumber)}}),{title:"QR code",key:"qrcode",render:function(e,t){return Object(D.jsx)(H,{id:t.ticketId,value:"".concat(t.id,".").concat(t.date,".").concat(t.ticketId)})}},{title:"Ng\xe0y t\u1ea1o",dataIndex:"date",key:"date",render:function(e,t){return Object(D.jsx)(p.a,{children:V()(e).format("DD/MM/YYYY HH:mm")})},sorter:function(e,t){return e.date>t.date}},{title:"Tr\u1ea1ng th\xe1i",key:"status",render:function(e,t){var n,a,c;return(null===t||void 0===t||null===(n=t.checkInfo)||void 0===n?void 0:n.checkCount)<1?Object(D.jsx)(p.a,{children:"CH\u01afA CHECKIN"}):(null===t||void 0===t||null===(a=t.checkInfo)||void 0===a?void 0:a.checkCount)>1?Object(D.jsxs)(p.a,{style:{color:"red",fontWeight:700},children:["CHECKIN ",null===t||void 0===t||null===(c=t.checkInfo)||void 0===c?void 0:c.checkCount," L\u1ea6N"]}):Object(D.jsx)(p.a,{style:{color:"green",fontWeight:700},children:"\u0110\xc3 CHECKIN"})}},{title:"V\xf4 hi\u1ec7u h\xf3a",dataIndex:"enable",key:"enable",render:function(e,t){return Object(D.jsx)(h.b,{children:Object(D.jsx)(j.a,{checked:e,onChange:function(e){!function(e,t){M.alertMessage("X\xe1c nh\u1eadn",e.enable?"Ch\u1eafc ch\u1eafn v\xf4 hi\u1ec7u v\xe9 n\xe0y?":"Ch\u1eafc ch\u1eafn m\u1edf kh\xf3a v\xe9 n\xe0y?",E,(function(){A.a.database().ref("/tickets").child(e.id).update({ticketId:e.ticketId,date:e.date,enable:t}).catch((function(e){return M.alertMessage()}))}))}(t,e)}})})}},{title:"T\xe1c v\u1ee5",key:"action",render:function(e,t){return Object(D.jsxs)(h.b,{children:[Object(D.jsx)(s.a,{style:{fontSize:20},onClick:function(){return function(e){J(e.ticketId)}(t)}}),Object(D.jsx)(u.a,{style:{fontSize:20,color:"#FF0000"},onClick:function(){return function(e){M.alertMessage("X\xe1c nh\u1eadn","Ch\u1eafc ch\u1eafn x\xf3a v\xe9 n\xe0y?",E,(function(){A.a.database().ref("/tickets").child(e.id).remove().catch((function(e){return M.alertMessage()}))}))}(t)}})]})}}];return c?Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column",flex:1,padding:48},children:[Object(D.jsx)(O.a,{level:2,children:"Danh s\xe1ch v\xe9"}),Object(D.jsx)(f.a,{type:"primary",icon:Object(D.jsx)(d.a,{}),style:{width:200,marginBottom:32},onClick:function(){return y(!0)},size:"large",children:"Th\xeam v\xe9 m\u1edbi"}),Object(D.jsx)(m.a,{columns:W,dataSource:w}),Object(D.jsx)(Q,{isShow:g,closeModal:function(){return y(!1)},downloadQR:J})]}):Object(D.jsxs)("div",{style:{display:"flex",flex:1,justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(D.jsx)(O.a,{level:3,style:{marginTop:64},children:"Nh\u1eadp m\u1eadt kh\u1ea9u"}),Object(D.jsx)(b.a,{style:{width:200,marginBottom:24,marginTop:24},onChange:function(e){return I(e.target.value)},placeholder:"Nh\u1eadp m\u1eadt kh\u1ea9u",value:C,type:"password",onKeyPress:function(e){C.length>0&&"Enter"===e.key&&U()}}),Object(D.jsx)(f.a,{type:"primary",onClick:U,size:"large",children:"V\xe0o"})]})},ne=n(259),ae=n(34);n(479);var ce=function(){return Object(D.jsx)(ne.a,{children:Object(D.jsx)(ae.a,{exact:!0,path:"/",component:te})})},ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,496)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,l=t.getTTFB;n(e),a(e),c(e),i(e),l(e)}))};A.a.initializeApp({apiKey:"AIzaSyCIbYZAKvEmY9ns42xafyV54BFU6qUCmKI",authDomain:"dau-giau.firebaseapp.com",databaseURL:"https://dau-giau.firebaseio.com",projectId:"dau-giau",storageBucket:"dau-giau.appspot.com",messagingSenderId:"801715659405",appId:"1:801715659405:web:cb3eecc4840cd11abaf8c4",measurementId:"G-XCRXMT5JYZ"}),A.a.analytics(),l.a.render(Object(D.jsxs)(c.a.StrictMode,{children:[Object(D.jsx)(ce,{}),Object(D.jsx)(M,{})]}),document.getElementById("root")),ie()}},[[481,1,2]]]);
//# sourceMappingURL=main.f552f6d4.chunk.js.map