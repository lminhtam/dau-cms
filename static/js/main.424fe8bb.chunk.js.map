{"version":3,"sources":["ultis/functions.js","components/GlobalModal/index.js","pages/Home/component/addTicketModal.js","pages/Home/component/searchInput.js","pages/Home/home.page.js","App.js","reportWebVitals.js","index.js","firebaseConfig.js"],"names":["MODAL_TYPE","createHashHistory","forceRefresh","Text","Typography","GlobalModal","props","closeModal","instance","setState","isShow","handleOk","state","onPress","handleCancel","title","content","type","visible","centered","onOk","onCancel","footer","onClick","size","React","Component","alertMessage","iTitle","iContent","iType","validationSchema","yup","shape","email","trim","label","required","phoneNumber","matches","message","fullname","min","ModalAddTicket","downloadQR","values","onSubmit","item","now","Date","getTime","ticketId","uuidv4","date","enable","checkInfo","checkCount","checkPerson","firebase","database","ref","push","then","value","setTimeout","catch","error","handleKeyPress","event","isValid","key","initialValues","handleChange","handleBlur","handleSubmit","errors","touched","setFieldTouched","disabled","align","gutter","className","span","style","display","flexDirection","onChange","placeholder","onKeyPress","color","marginTop","getColumnSearchProps","dataIndex","searchPlaceholder","searchText","setSearchText","searchedColumn","setSearchColumn","refInput","filterDropdown","setSelectedKeys","selectedKeys","confirm","clearFilters","padding","e","target","onPressEnter","handleSearch","width","marginBottom","icon","SearchOutlined","handleReset","filterIcon","filtered","undefined","onFilter","record","toString","toLowerCase","includes","onFilterDropdownVisibleChange","current","select","render","text","highlightStyle","backgroundColor","searchWords","autoEscape","textToHighlight","Home","useState","isAuth","setIsAuth","showAddModal","setShowAddModal","pass","setPass","tickets","setTickets","useRef","useEffect","on","snapshot","data","val","ticketsArray","Object","keys","length","map","id","off","onInputPass","md5","canvas","document","getElementById","pngUrl","toDataURL","replace","downloadLink","createElement","href","download","body","appendChild","click","removeChild","ticketColumns","sorter","a","b","localeCompare","moment","format","checked","child","update","handleEnable","DownloadOutlined","fontSize","handleDownload","DeleteOutlined","remove","handleDelete","flex","level","PlusCircleOutlined","columns","dataSource","justifyContent","alignItems","App","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","analytics","ReactDOM","StrictMode"],"mappings":"0YAMaA,GAJUC,YAAkB,CAAEC,cAAc,IAK/C,UADGF,EAEH,S,QCJFG,EAASC,IAATD,KAEaE,E,kDAGnB,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IA0BRC,WAAa,WACXF,EAAYG,SAASC,SAAS,CAAEC,QAAQ,KA5BvB,EA+BnBC,SAAW,WACTN,EAAYG,SAASI,MAAMC,UAC3BR,EAAYG,SAASD,cAjCJ,EAoCnBO,aAAe,WACbT,EAAYG,SAASD,cAnCrBF,EAAYG,SAAZ,eACA,EAAKI,MAAQ,CACXF,QAAQ,EACRK,MAAO,GACPC,QAAS,GACTC,KAAMjB,EACNa,QAAS,cARM,E,0CAwCnB,WACE,OACE,cAAC,IAAD,CACEE,MAAOV,EAAYG,SAASI,MAAMG,MAClCG,QAASb,EAAYG,SAASI,MAAMF,OACpCS,UAAQ,EACRC,KAAMf,EAAYG,SAASG,SAC3BU,SAAUhB,EAAYG,SAASM,aAC/BQ,OACEjB,EAAYG,SAASI,MAAMK,OAASjB,EAChC,CACE,cAAC,IAAD,CAEEiB,KAAK,UACLM,QAASlB,EAAYG,SAASG,SAC9Ba,KAAK,QAJP,eACM,aAQR,CACE,cAAC,IAAD,CAEED,QAASlB,EAAYG,SAASM,aAC9BU,KAAK,QAHP,qBACM,gBAMN,cAAC,IAAD,CAEEA,KAAK,QACLP,KAAK,UACLM,QAASlB,EAAYG,SAASG,SAJhC,eACM,aA3BhB,SAqCE,cAAC,EAAD,UAAON,EAAYG,SAASI,MAAMI,gB,GAlFDS,IAAMC,WAA1BrB,EACZG,SAAW,KADCH,EAeZsB,aAAe,WAKhB,IAJJC,EAIG,uDAJM,kBACTC,EAGG,uDAHQ,kCACXC,EAEG,uDAFK9B,EACRa,EACG,uDADO,aAEVR,EAAYG,SAASC,SAAS,CAC5BC,QAAQ,EACRK,MAAOa,EACPZ,QAASa,EACTZ,KAAMa,EACNjB,a,+GCxBEV,EAASC,IAATD,KAEF4B,EAAmBC,MAAaC,MAAM,CAC1CC,MAAOF,MAEJG,OACAC,MAAM,SACNF,MAAM,sDACNG,SAAS,iCACZC,YAAaN,MAEVK,SAAS,6DACTE,QAAQ,kCAAmC,CAC1CC,QAAS,gEAEbC,SAAUT,MAEPG,OACAE,SAAS,kCACTK,IAAI,EAAG,0CACPH,QACC,yNACA,CACEC,QAAS,uCAKF,SAASG,EAAT,GAIX,IAHFjC,EAGC,EAHDA,OAGC,IAFDH,kBAEC,MAFY,aAEZ,MADDqC,kBACC,MADY,SAAAC,KACZ,EACKlC,EAAW,SAAAkC,GACfC,EAASD,GACTtC,KAGIO,EAAe,WACnBP,KAGIuC,EAAW,SAAAC,GACf,IAAMC,GAAM,IAAIC,MAAOC,UACjBC,EAAWC,cACXP,EAAM,2BACPE,GADO,IAEVI,WACAE,KAAML,EACNM,QAAQ,EACRC,UAAW,CACTC,WAAY,EACZC,YAAa,QAGjBC,IACGC,WACAC,IAAI,YACJC,KAAKhB,GACLiB,MAAK,SAAAC,GACJC,YAAW,WACTpB,EAAWO,KACV,QAEJc,OAAM,SAAAC,GAAK,OAAI7D,EAAYsB,mBAG1BwC,EAAiB,SAACC,EAAOC,EAASxB,GAClCwB,EAAU,GAAmB,UAAdD,EAAME,KACvB3D,EAASkC,IAIb,OACE,cAAC,IAAD,CACE0B,cAAe,CACb9B,SAAU,GACVH,YAAa,GACbJ,MAAO,IAETH,iBAAkBA,EAClBe,SAAU,SAAAD,GACRC,EAASD,IARb,SAWG,YASM,IARL2B,EAQI,EARJA,aAGA3B,GAKI,EAPJ4B,WAOI,EANJC,aAMI,EALJ7B,QACAwB,EAII,EAJJA,QACAM,EAGI,EAHJA,OAGI,EAFJC,QAEI,EADJC,gBAEA,OACE,eAAC,IAAD,CACE9D,MAAO,gBACPG,QAASR,EACTS,UAAQ,EACRC,KAAMT,EACNU,SAAUP,EACVQ,OAAQ,CACN,cAAC,IAAD,CAA2BC,QAAST,EAAcU,KAAK,QAAvD,qBAAY,gBAGZ,cAAC,IAAD,CAEEA,KAAK,QACLP,KAAK,UACLM,QAASZ,EACTmE,UAAWT,EALb,oBACM,aAXV,UAqBE,eAAC,IAAD,CAAKU,MAAM,SAASC,OAAQ,GAA5B,UACE,cAAC,IAAD,CAAKC,UAAU,aAAaC,KAAM,EAAlC,SACE,cAAC,EAAD,uBAEF,eAAC,IAAD,CACEC,MAAO,CAAEC,QAAS,OAAQC,cAAe,UACzCJ,UAAU,aACVC,KAAM,GAHR,UAKE,cAAC,IAAD,CACEI,SAAUd,EAAa,YACvBe,YAAY,yBACZxB,MAAOlB,EAAOJ,SACd+C,WAAY,SAAApB,GAAK,OAAID,EAAeC,EAAOC,EAASxB,MAErD8B,EAAOlC,UACN,cAAC,EAAD,CAAM0C,MAAO,CAAEM,MAAO,OAAtB,SAAgCd,EAAOlC,iBAI7C,eAAC,IAAD,CAAKsC,MAAM,SAASC,OAAQ,GAAIG,MAAO,CAAEO,UAAW,IAApD,UACE,cAAC,IAAD,CAAKT,UAAU,aAAaC,KAAM,EAAlC,SACE,cAAC,EAAD,sBAEF,eAAC,IAAD,CACEC,MAAO,CAAEC,QAAS,OAAQC,cAAe,UACzCJ,UAAU,aACVC,KAAM,GAHR,UAKE,cAAC,IAAD,CACEI,SAAUd,EAAa,SACvBe,YAAY,uBACZxB,MAAOlB,EAAOX,MACdjB,KAAK,QACLuE,WAAY,SAAApB,GAAK,OAAID,EAAeC,EAAOC,EAASxB,MAErD8B,EAAOzC,OACN,cAAC,EAAD,CAAMiD,MAAO,CAAEM,MAAO,OAAtB,SAAgCd,EAAOzC,cAI7C,eAAC,IAAD,CAAK6C,MAAM,SAASC,OAAQ,GAAIG,MAAO,CAAEO,UAAW,IAApD,UACE,cAAC,IAAD,CAAKT,UAAU,aAAaC,KAAM,EAAlC,SACE,cAAC,EAAD,yBAEF,eAAC,IAAD,CACEC,MAAO,CAAEC,QAAS,OAAQC,cAAe,UACzCJ,UAAU,aACVC,KAAM,GAHR,UAKE,cAAC,IAAD,CACEI,SAAUd,EAAa,eACvBe,YAAY,YACZxB,MAAOlB,EAAOP,YACdrB,KAAK,MACLuE,WAAY,SAAApB,GAAK,OAAID,EAAeC,EAAOC,EAASxB,MAErD8B,EAAOrC,aACN,cAAC,EAAD,CAAM6C,MAAO,CAAEM,MAAO,OAAtB,SAAgCd,EAAOrC,0B,wCCjL5CqD,EAAuB,SAClCC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,MAAO,CACLC,eAAgB,gBACdC,EADc,EACdA,gBACAC,EAFc,EAEdA,aACAC,EAHc,EAGdA,QACAC,EAJc,EAIdA,aAJc,OAMd,sBAAKpB,MAAO,CAAEqB,QAAS,GAAvB,UACE,cAAC,IAAD,CACE5C,IAAKsC,EACLX,YAAaM,EACb9B,MAAOsC,EAAa,GACpBf,SAAU,SAAAmB,GAAC,OACTL,EAAgBK,EAAEC,OAAO3C,MAAQ,CAAC0C,EAAEC,OAAO3C,OAAS,KAEtD4C,aAAc,kBACZC,EACEP,EACAC,EACAV,EACAG,EACAE,IAGJd,MAAO,CAAE0B,MAAO,IAAKC,aAAc,EAAG1B,QAAS,WAEjD,eAAC,IAAD,WACE,cAAC,IAAD,CACEnE,KAAK,UACLM,QAAS,kBACPqF,EACEP,EACAC,EACAV,EACAG,EACAE,IAGJc,KAAM,cAACC,EAAA,EAAD,IACNxF,KAAK,QACL2D,MAAO,CAAE0B,MAAO,IAblB,oBAiBA,cAAC,IAAD,CACEtF,QAAS,kBAAM0F,GAAYV,EAAcR,IACzCvE,KAAK,QACL2D,MAAO,CAAE0B,MAAO,IAHlB,oCAUNK,WAAY,SAAAC,GAAQ,OAClB,cAACH,EAAA,EAAD,CAAgB7B,MAAO,CAAEM,MAAO0B,EAAW,YAASC,MAEtDC,SAAU,SAACtD,EAAOuD,GAAR,OACRA,EAAO1B,GAAW2B,WAAWC,cAAcC,SAAS1D,EAAMyD,gBAC5DE,8BAA+B,SAAAxG,GACzBA,GACF8C,YAAW,kBAAMkC,EAASyB,QAAQC,aAGtCC,OAAQ,SAAAC,GAAI,OACV9B,IAAmBJ,EACjB,cAAC,IAAD,CACEmC,eAAgB,CAAEC,gBAAiB,UAAWxB,QAAS,GACvDyB,YAAa,CAACnC,GACdoC,YAAU,EACVC,gBAAiBL,EAAKP,aAGxBO,KAKFlB,EAAe,SACnBP,EACAC,EACAV,EACAG,EACAE,GAEAK,IACAL,EAAgBL,GAChBG,EAAcM,EAAa,KAGvBY,GAAc,SAACV,EAAcR,GACjCQ,IACAR,EAAc,KCyLDqC,OAlRf,SAAc9H,GACZ,MAA4B+H,oBAAS,GAArC,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAAwCF,oBAAS,GAAjD,mBAAOG,EAAP,KAAqBC,EAArB,KACA,EAAwBJ,mBAAS,IAAjC,mBAAOK,EAAP,KAAaC,EAAb,KACA,EAA8BN,mBAAS,IAAvC,mBAAOO,EAAP,KAAgBC,EAAhB,KACA,EAAoCR,mBAAS,IAA7C,mBAAOvC,EAAP,KAAmBC,EAAnB,KACA,EAA0CsC,mBAAS,IAAnD,mBAAOrC,EAAP,KAAuBC,EAAvB,KACMC,EAAW4C,mBAEjBC,qBAAU,WAmBR,OAlBIT,GACF5E,IACGC,WACAC,IAAI,YACJoF,GAAG,SAAS,SAAAC,GACX,IAAMC,EAAOD,EAASE,MAChBC,EACJF,GAAQG,OAAOC,KAAKJ,GAAMK,OAAS,EAC/BF,OAAOC,KAAKJ,GAAMM,KAAI,SAAAlF,GACpB,OAAO,2BACF4E,EAAK5E,IADV,IAEEmF,GAAInF,OAGR,GACNuE,EAAWO,MAGV,WACL1F,IAASC,WAAWC,IAAI,YAAY8F,SAErC,CAACpB,IAEJ,IAMMqB,EAAc,WJrDF,qCIsDZC,IAAIlB,GACNH,GAAU,GAEVlI,EAAYsB,aAAa,kBAAa,2BAIpCiB,EAAa,SAAA6G,GACjB,IAAMI,EAASC,SAASC,eAAeN,GACvC,GAAII,EAAQ,CACV,IAAMG,EAASH,EACZI,UAAU,aACVC,QAAQ,YAAa,sBACpBC,EAAeL,SAASM,cAAc,KAC1CD,EAAaE,KAAOL,EACpBG,EAAaG,SAAb,UAA2Bb,EAA3B,QACAK,SAASS,KAAKC,YAAYL,GAC1BA,EAAaM,QACbX,SAASS,KAAKG,YAAYP,KA4CxBQ,EAAgB,CAAC,2BAEhBhF,EACD,WACA,eACAG,EACAC,EACAC,EACAC,EACAC,IATgB,IAWlBnF,MAAO,KACP6E,UAAW,WACXtB,IAAK,WACLsG,OAAQ,SAACC,EAAGC,GAAJ,OAAUD,EAAE1H,SAAS4H,cAAcD,EAAE3H,aAd3B,2BAiBfwC,EACD,WACA,mBACAG,EACAC,EACAC,EACAC,EACAC,IAxBgB,IA0BlBnF,MAAO,SACP6E,UAAW,WACXtB,IAAK,WACLsG,OAAQ,SAACC,EAAGC,GAAJ,OAAUD,EAAEpI,SAASsI,cAAcD,EAAErI,aA7B3B,2BAgCfkD,EACD,QACA,kBACAG,EACAC,EACAC,EACAC,EACAC,IAvCgB,IAyClBnF,MAAO,QACP6E,UAAW,QACXtB,IAAK,QACLsG,OAAQ,SAACC,EAAGC,GAAJ,OAAUD,EAAE3I,MAAM6I,cAAcD,EAAE5I,UA5CxB,2BA+CfyD,EACD,cACA,qBACAG,EACAC,EACAC,EACAC,EACAC,IAtDgB,IAwDlBnF,MAAO,WACP6E,UAAW,cACXtB,IAAK,cACLsG,OAAQ,SAACC,EAAGC,GAAJ,OAAUD,EAAEvI,YAAYyI,cAAcD,EAAExI,gBAElD,CACEvB,MAAO,UACPuD,IAAK,SACLuD,OAAQ,SAAC9D,EAAOuD,GACd,OACE,cAAC,EAAD,CACEmC,GAAInC,EAAOnE,SACXY,MAAK,UAAKuD,EAAOmC,GAAZ,YAAkBnC,EAAOjE,KAAzB,YAAiCiE,EAAOnE,cAKrD,CACEpC,MAAO,mBACP6E,UAAW,OACXtB,IAAK,OACLuD,OAAQ,SAAC9D,EAAOuD,GACd,OAAO,cAAC,IAAD,UAAO0D,IAAOjH,GAAOkH,OAAO,uBAErCL,OAAQ,SAACC,EAAGC,GAAJ,OAAUD,EAAExH,KAAOyH,EAAEzH,OAE/B,CACEtC,MAAO,yBACP6E,UAAW,SACXtB,IAAK,SACLuD,OAAQ,SAAC9D,EAAOuD,GACd,OACE,cAAC,IAAD,UACE,cAAC,IAAD,CACE4D,QAASnH,EACTuB,SAAU,SAAA4F,IAnHD,SAAC5D,EAAQ4D,GAC5B7K,EAAYsB,aACV,mBACA2F,EAAOhE,OAAS,oDAA8B,oDAC9CtD,GACA,WACE0D,IACGC,WACAC,IAAI,YACJuH,MAAM7D,EAAOmC,IACb2B,OAAO,CACNjI,SAAUmE,EAAOnE,SACjBE,KAAMiE,EAAOjE,KACbC,OAAQ4H,IAETjH,OAAM,SAAAC,GAAK,OAAI7D,EAAYsB,qBAqGtB0J,CAAa/D,EAAQ4D,UAOjC,CACEnK,MAAO,iBACPuD,IAAK,SACLuD,OAAQ,SAAC9D,EAAOuD,GACd,OACE,eAAC,IAAD,WACE,cAACgE,EAAA,EAAD,CACEnG,MAAO,CAAEoG,SAAU,IACnBhK,QAAS,kBA/GE,SAAA+F,GACrB1E,EAAW0E,EAAOnE,UA8GOqI,CAAelE,MAEhC,cAACmE,EAAA,EAAD,CACEtG,MAAO,CAAEoG,SAAU,GAAI9F,MAAO,WAC9BlE,QAAS,kBAvJA,SAAA+F,GACnBjH,EAAYsB,aACV,mBACA,2CACA3B,GACA,WACE0D,IACGC,WACAC,IAAI,YACJuH,MAAM7D,EAAOmC,IACbiC,SACAzH,OAAM,SAAAC,GAAK,OAAI7D,EAAYsB,qBA4ITgK,CAAarE,YAQxC,OAAKgB,EA8BH,sBACEnD,MAAO,CAAEC,QAAS,OAAQC,cAAe,SAAUuG,KAAM,EAAGpF,QAAS,IADvE,UAGE,cAAC,IAAD,CAAOqF,MAAO,EAAd,gCACA,cAAC,IAAD,CACE5K,KAAK,UACL8F,KAAM,cAAC+E,EAAA,EAAD,IACN3G,MAAO,CAAE0B,MAAO,IAAKC,aAAc,IACnCvF,QAAS,kBAAMkH,GAAgB,IAC/BjH,KAAK,QALP,oCASA,cAAC,IAAD,CAAOuK,QAASpB,EAAeqB,WAAYpD,IAC3C,cAACjG,EAAD,CACEjC,OAAQ8H,EACRjI,WAAY,kBAAMkI,GAAgB,IAClC7F,WAAYA,OA7Cd,sBACEuC,MAAO,CACLC,QAAS,OACTwG,KAAM,EACNK,eAAgB,SAChBC,WAAY,SACZ7G,cAAe,UANnB,UASE,cAAC,IAAD,CAAOwG,MAAO,EAAG1G,MAAO,CAAEO,UAAW,IAArC,0CAGA,cAAC,IAAD,CACEP,MAAO,CAAE0B,MAAO,IAAKC,aAAc,GAAIpB,UAAW,IAClDJ,SAAU,SAAAlB,GAAK,OAAIuE,EAAQvE,EAAMsC,OAAO3C,QACxCwB,YAAY,+BACZxB,MAAO2E,EACPzH,KAAK,WACLuE,WAhNe,SAAApB,GACjBsE,EAAKa,OAAS,GAAmB,UAAdnF,EAAME,KAC3BqF,OAgNE,cAAC,IAAD,CAAQ1I,KAAK,UAAUM,QAASoI,EAAanI,KAAK,QAAlD,wB,0BCxPO2K,OARf,WACE,OACE,cAAC,KAAD,UACE,cAAC,KAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWlE,QCIxBmE,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqB3I,MAAK,YAAkD,IAA/C4I,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCEd9I,IAASqJ,cCTqB,CAC5BC,OAAQ,0CACRC,WAAY,2BACZC,YAAa,kCACbC,UAAW,WACXC,cAAe,uBACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBDEjB7J,IAAS8J,YAETC,IAAS5F,OACP,eAAC,IAAM6F,WAAP,WACE,cAAC,GAAD,IACA,cAAC,EAAD,OAEF5D,SAASC,eAAe,SAM1BwC,O","file":"static/js/main.424fe8bb.chunk.js","sourcesContent":["import { createHashHistory } from 'history'\r\n\r\nexport const history = createHashHistory({ forceRefresh: true })\r\n\r\nexport const PASS = '139f3d56ee09b7df537bf53a1ca5175f'\r\n\r\nexport const MODAL_TYPE = {\r\n  NORMAL: 'NORMAL',\r\n  CHOICE: 'CHOICE'\r\n}\r\n","import { Button, Modal, Typography } from 'antd'\r\nimport React from 'react'\r\nimport { MODAL_TYPE } from 'ultis/functions'\r\n\r\nconst { Text } = Typography\r\n\r\nexport default class GlobalModal extends React.Component {\r\n  static instance = null\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    GlobalModal.instance = this\r\n    this.state = {\r\n      isShow: false,\r\n      title: '',\r\n      content: '',\r\n      type: MODAL_TYPE.NORMAL,\r\n      onPress: () => {}\r\n    }\r\n  }\r\n\r\n  static alertMessage = (\r\n    iTitle = 'Thông báo',\r\n    iContent = 'Đã xảy ra lỗi',\r\n    iType = MODAL_TYPE.NORMAL,\r\n    onPress = () => {}\r\n  ) => {\r\n    GlobalModal.instance.setState({\r\n      isShow: true,\r\n      title: iTitle,\r\n      content: iContent,\r\n      type: iType,\r\n      onPress\r\n    })\r\n  }\r\n\r\n  closeModal = () => {\r\n    GlobalModal.instance.setState({ isShow: false })\r\n  }\r\n\r\n  handleOk = () => {\r\n    GlobalModal.instance.state.onPress()\r\n    GlobalModal.instance.closeModal()\r\n  }\r\n\r\n  handleCancel = () => {\r\n    GlobalModal.instance.closeModal()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Modal\r\n        title={GlobalModal.instance.state.title}\r\n        visible={GlobalModal.instance.state.isShow}\r\n        centered\r\n        onOk={GlobalModal.instance.handleOk}\r\n        onCancel={GlobalModal.instance.handleCancel}\r\n        footer={\r\n          GlobalModal.instance.state.type === MODAL_TYPE.NORMAL\r\n            ? [\r\n                <Button\r\n                  key=\"okButton\"\r\n                  type=\"primary\"\r\n                  onClick={GlobalModal.instance.handleOk}\r\n                  size=\"large\"\r\n                >\r\n                  OK\r\n                </Button>\r\n              ]\r\n            : [\r\n                <Button\r\n                  key=\"cancelButton\"\r\n                  onClick={GlobalModal.instance.handleCancel}\r\n                  size=\"large\"\r\n                >\r\n                  Hủy\r\n                </Button>,\r\n                <Button\r\n                  key=\"okButton\"\r\n                  size=\"large\"\r\n                  type=\"primary\"\r\n                  onClick={GlobalModal.instance.handleOk}\r\n                >\r\n                  OK\r\n                </Button>\r\n              ]\r\n        }\r\n      >\r\n        <Text>{GlobalModal.instance.state.content}</Text>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n","import { Button, Col, Input, Modal, Row, Typography } from 'antd'\r\nimport GlobalModal from 'components/GlobalModal'\r\nimport firebase from 'firebase'\r\nimport { Formik } from 'formik'\r\nimport React from 'react'\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport * as yup from 'yup'\r\n\r\nconst { Text } = Typography\r\n\r\nconst validationSchema = yup.object().shape({\r\n  email: yup\r\n    .string()\r\n    .trim()\r\n    .label('Email')\r\n    .email('Email hiện tại không hợp lệ')\r\n    .required('* Vui lòng nhập email'),\r\n  phoneNumber: yup\r\n    .string()\r\n    .required('* Vui lòng nhập số điện thoại')\r\n    .matches(/((09|03|07|08|05)+([0-9]{8})\\b)/, {\r\n      message: 'Số điện thoại không hợp lệ'\r\n    }),\r\n  fullname: yup\r\n    .string()\r\n    .trim()\r\n    .required('* Vui lòng nhập tên')\r\n    .min(3, 'Tên ít nhất 3 kí tự')\r\n    .matches(\r\n      /[^a-z0-9A-Z_ÀÁÂÃÈÉÊÌÍÒÓÔÕÙÚĂĐĨŨƠàáâãèéêìíòóôõùúăđĩũơƯĂẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼỀỀỂưăạảấầẩẫậắằẳẵặẹẻẽềềểỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪễệỉịọỏốồổỗộớờởỡợụủứừỬỮỰỲỴÝỶỸửữựỳỵỷỹ]/u,\r\n      {\r\n        message: 'Tên không hợp lệ'\r\n      }\r\n    )\r\n})\r\n\r\nexport default function ModalAddTicket({\r\n  isShow,\r\n  closeModal = () => {},\r\n  downloadQR = values => {}\r\n}) {\r\n  const handleOk = values => {\r\n    onSubmit(values)\r\n    closeModal()\r\n  }\r\n\r\n  const handleCancel = () => {\r\n    closeModal()\r\n  }\r\n\r\n  const onSubmit = item => {\r\n    const now = new Date().getTime()\r\n    const ticketId = uuidv4()\r\n    const values = {\r\n      ...item,\r\n      ticketId,\r\n      date: now,\r\n      enable: true,\r\n      checkInfo: {\r\n        checkCount: 0,\r\n        checkPerson: null\r\n      }\r\n    }\r\n    firebase\r\n      .database()\r\n      .ref('/tickets')\r\n      .push(values)\r\n      .then(value => {\r\n        setTimeout(() => {\r\n          downloadQR(ticketId)\r\n        }, 1000)\r\n      })\r\n      .catch(error => GlobalModal.alertMessage())\r\n  }\r\n\r\n  const handleKeyPress = (event, isValid, values) => {\r\n    if (isValid > 0 && event.key === 'Enter') {\r\n      handleOk(values)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Formik\r\n      initialValues={{\r\n        fullname: '',\r\n        phoneNumber: '',\r\n        email: ''\r\n      }}\r\n      validationSchema={validationSchema}\r\n      onSubmit={values => {\r\n        onSubmit(values)\r\n      }}\r\n    >\r\n      {({\r\n        handleChange,\r\n        handleBlur,\r\n        handleSubmit,\r\n        values,\r\n        isValid,\r\n        errors,\r\n        touched,\r\n        setFieldTouched\r\n      }) => {\r\n        return (\r\n          <Modal\r\n            title={'Thêm vé'}\r\n            visible={isShow}\r\n            centered\r\n            onOk={handleOk}\r\n            onCancel={handleCancel}\r\n            footer={[\r\n              <Button key=\"cancelButton\" onClick={handleCancel} size=\"large\">\r\n                Hủy\r\n              </Button>,\r\n              <Button\r\n                key=\"okButton\"\r\n                size=\"large\"\r\n                type=\"primary\"\r\n                onClick={handleOk}\r\n                disabled={!isValid}\r\n              >\r\n                Thêm\r\n              </Button>\r\n            ]}\r\n          >\r\n            <Row align=\"middle\" gutter={16}>\r\n              <Col className=\"gutter-row\" span={6}>\r\n                <Text>Tên</Text>\r\n              </Col>\r\n              <Col\r\n                style={{ display: 'flex', flexDirection: 'column' }}\r\n                className=\"gutter-row\"\r\n                span={18}\r\n              >\r\n                <Input\r\n                  onChange={handleChange('fullname')}\r\n                  placeholder=\"Nguyễn Văn A\"\r\n                  value={values.fullname}\r\n                  onKeyPress={event => handleKeyPress(event, isValid, values)}\r\n                />\r\n                {errors.fullname && (\r\n                  <Text style={{ color: 'red' }}>{errors.fullname}</Text>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            <Row align=\"middle\" gutter={16} style={{ marginTop: 16 }}>\r\n              <Col className=\"gutter-row\" span={6}>\r\n                <Text>Email</Text>\r\n              </Col>\r\n              <Col\r\n                style={{ display: 'flex', flexDirection: 'column' }}\r\n                className=\"gutter-row\"\r\n                span={18}\r\n              >\r\n                <Input\r\n                  onChange={handleChange('email')}\r\n                  placeholder=\"nguyenvana@gmail.com\"\r\n                  value={values.email}\r\n                  type=\"email\"\r\n                  onKeyPress={event => handleKeyPress(event, isValid, values)}\r\n                />\r\n                {errors.email && (\r\n                  <Text style={{ color: 'red' }}>{errors.email}</Text>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            <Row align=\"middle\" gutter={16} style={{ marginTop: 16 }}>\r\n              <Col className=\"gutter-row\" span={6}>\r\n                <Text>SĐT</Text>\r\n              </Col>\r\n              <Col\r\n                style={{ display: 'flex', flexDirection: 'column' }}\r\n                className=\"gutter-row\"\r\n                span={18}\r\n              >\r\n                <Input\r\n                  onChange={handleChange('phoneNumber')}\r\n                  placeholder=\"076XXXXXX\"\r\n                  value={values.phoneNumber}\r\n                  type=\"tel\"\r\n                  onKeyPress={event => handleKeyPress(event, isValid, values)}\r\n                />\r\n                {errors.phoneNumber && (\r\n                  <Text style={{ color: 'red' }}>{errors.phoneNumber}</Text>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          </Modal>\r\n        )\r\n      }}\r\n    </Formik>\r\n  )\r\n}\r\n","import { SearchOutlined } from '@ant-design/icons'\r\nimport { Button, Input, Space } from 'antd'\r\nimport 'antd/dist/antd.css'\r\nimport React from 'react'\r\nimport Highlighter from 'react-highlight-words'\r\n\r\nexport const getColumnSearchProps = (\r\n  dataIndex,\r\n  searchPlaceholder,\r\n  searchText,\r\n  setSearchText,\r\n  searchedColumn,\r\n  setSearchColumn,\r\n  refInput\r\n) => {\r\n  return {\r\n    filterDropdown: ({\r\n      setSelectedKeys,\r\n      selectedKeys,\r\n      confirm,\r\n      clearFilters\r\n    }) => (\r\n      <div style={{ padding: 8 }}>\r\n        <Input\r\n          ref={refInput}\r\n          placeholder={searchPlaceholder}\r\n          value={selectedKeys[0]}\r\n          onChange={e =>\r\n            setSelectedKeys(e.target.value ? [e.target.value] : [])\r\n          }\r\n          onPressEnter={() =>\r\n            handleSearch(\r\n              selectedKeys,\r\n              confirm,\r\n              dataIndex,\r\n              setSearchText,\r\n              setSearchColumn\r\n            )\r\n          }\r\n          style={{ width: 188, marginBottom: 8, display: 'block' }}\r\n        />\r\n        <Space>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() =>\r\n              handleSearch(\r\n                selectedKeys,\r\n                confirm,\r\n                dataIndex,\r\n                setSearchText,\r\n                setSearchColumn\r\n              )\r\n            }\r\n            icon={<SearchOutlined />}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Tìm\r\n          </Button>\r\n          <Button\r\n            onClick={() => handleReset(clearFilters, setSearchText)}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Cài lại\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n    ),\r\n    filterIcon: filtered => (\r\n      <SearchOutlined style={{ color: filtered ? 'grey' : undefined }} />\r\n    ),\r\n    onFilter: (value, record) =>\r\n      record[dataIndex].toString().toLowerCase().includes(value.toLowerCase()),\r\n    onFilterDropdownVisibleChange: visible => {\r\n      if (visible) {\r\n        setTimeout(() => refInput.current.select())\r\n      }\r\n    },\r\n    render: text =>\r\n      searchedColumn === dataIndex ? (\r\n        <Highlighter\r\n          highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\r\n          searchWords={[searchText]}\r\n          autoEscape\r\n          textToHighlight={text.toString()}\r\n        />\r\n      ) : (\r\n        text\r\n      )\r\n  }\r\n}\r\n\r\nconst handleSearch = (\r\n  selectedKeys,\r\n  confirm,\r\n  dataIndex,\r\n  setSearchText,\r\n  setSearchColumn\r\n) => {\r\n  confirm()\r\n  setSearchColumn(dataIndex)\r\n  setSearchText(selectedKeys[0])\r\n}\r\n\r\nconst handleReset = (clearFilters, setSearchText) => {\r\n  clearFilters()\r\n  setSearchText('')\r\n}\r\n","import {\r\n  DeleteOutlined,\r\n  DownloadOutlined,\r\n  PlusCircleOutlined\r\n} from '@ant-design/icons'\r\nimport { Button, Input, Space, Switch, Table } from 'antd'\r\nimport Text from 'antd/lib/typography/Text'\r\nimport Title from 'antd/lib/typography/Title'\r\nimport GlobalModal from 'components/GlobalModal'\r\nimport firebase from 'firebase'\r\nimport md5 from 'md5'\r\nimport moment from 'moment'\r\nimport * as QRCode from 'qrcode.react'\r\nimport React, { useEffect, useRef, useState } from 'react'\r\nimport { MODAL_TYPE, PASS } from 'ultis/functions'\r\nimport ModalAddTicket from './component/addTicketModal'\r\nimport { getColumnSearchProps } from './component/searchInput'\r\n\r\nfunction Home(props) {\r\n  const [isAuth, setIsAuth] = useState(false)\r\n  const [showAddModal, setShowAddModal] = useState(false)\r\n  const [pass, setPass] = useState('')\r\n  const [tickets, setTickets] = useState([])\r\n  const [searchText, setSearchText] = useState('')\r\n  const [searchedColumn, setSearchColumn] = useState('')\r\n  const refInput = useRef()\r\n\r\n  useEffect(() => {\r\n    if (isAuth) {\r\n      firebase\r\n        .database()\r\n        .ref('/tickets')\r\n        .on('value', snapshot => {\r\n          const data = snapshot.val()\r\n          const ticketsArray =\r\n            data && Object.keys(data).length > 0\r\n              ? Object.keys(data).map(key => {\r\n                  return {\r\n                    ...data[key],\r\n                    id: key\r\n                  }\r\n                })\r\n              : []\r\n          setTickets(ticketsArray)\r\n        })\r\n    }\r\n    return () => {\r\n      firebase.database().ref('/tickets').off()\r\n    }\r\n  }, [isAuth])\r\n\r\n  const handleKeyPress = event => {\r\n    if (pass.length > 0 && event.key === 'Enter') {\r\n      onInputPass()\r\n    }\r\n  }\r\n\r\n  const onInputPass = () => {\r\n    if (md5(pass) === PASS) {\r\n      setIsAuth(true)\r\n    } else {\r\n      GlobalModal.alertMessage('Thông báo', 'Sai mật khẩu')\r\n    }\r\n  }\r\n\r\n  const downloadQR = id => {\r\n    const canvas = document.getElementById(id)\r\n    if (canvas) {\r\n      const pngUrl = canvas\r\n        .toDataURL('image/jpg')\r\n        .replace('image/jpg', 'image/octet-stream')\r\n      let downloadLink = document.createElement('a')\r\n      downloadLink.href = pngUrl\r\n      downloadLink.download = `${id}.jpg`\r\n      document.body.appendChild(downloadLink)\r\n      downloadLink.click()\r\n      document.body.removeChild(downloadLink)\r\n    }\r\n  }\r\n\r\n  const handleDelete = record => {\r\n    GlobalModal.alertMessage(\r\n      'Xác nhận',\r\n      'Chắc chắn xóa vé này?',\r\n      MODAL_TYPE.CHOICE,\r\n      () => {\r\n        firebase\r\n          .database()\r\n          .ref('/tickets')\r\n          .child(record.id)\r\n          .remove()\r\n          .catch(error => GlobalModal.alertMessage())\r\n      }\r\n    )\r\n  }\r\n\r\n  const handleEnable = (record, checked) => {\r\n    GlobalModal.alertMessage(\r\n      'Xác nhận',\r\n      record.enable ? 'Chắc chắn vô hiệu vé này?' : 'Chắc chắn mở khóa vé này?',\r\n      MODAL_TYPE.CHOICE,\r\n      () => {\r\n        firebase\r\n          .database()\r\n          .ref('/tickets')\r\n          .child(record.id)\r\n          .update({\r\n            ticketId: record.ticketId,\r\n            date: record.date,\r\n            enable: checked\r\n          })\r\n          .catch(error => GlobalModal.alertMessage())\r\n      }\r\n    )\r\n  }\r\n\r\n  const handleDownload = record => {\r\n    downloadQR(record.ticketId)\r\n  }\r\n\r\n  const ticketColumns = [\r\n    {\r\n      ...getColumnSearchProps(\r\n        'ticketId',\r\n        'Nhập ID',\r\n        searchText,\r\n        setSearchText,\r\n        searchedColumn,\r\n        setSearchColumn,\r\n        refInput\r\n      ),\r\n      title: 'ID',\r\n      dataIndex: 'ticketId',\r\n      key: 'ticketId',\r\n      sorter: (a, b) => a.ticketId.localeCompare(b.ticketId)\r\n    },\r\n    {\r\n      ...getColumnSearchProps(\r\n        'fullname',\r\n        'Nhập tên',\r\n        searchText,\r\n        setSearchText,\r\n        searchedColumn,\r\n        setSearchColumn,\r\n        refInput\r\n      ),\r\n      title: 'Tên',\r\n      dataIndex: 'fullname',\r\n      key: 'fullname',\r\n      sorter: (a, b) => a.fullname.localeCompare(b.fullname)\r\n    },\r\n    {\r\n      ...getColumnSearchProps(\r\n        'email',\r\n        'Nhập email',\r\n        searchText,\r\n        setSearchText,\r\n        searchedColumn,\r\n        setSearchColumn,\r\n        refInput\r\n      ),\r\n      title: 'Email',\r\n      dataIndex: 'email',\r\n      key: 'email',\r\n      sorter: (a, b) => a.email.localeCompare(b.email)\r\n    },\r\n    {\r\n      ...getColumnSearchProps(\r\n        'phoneNumber',\r\n        'Nhập SĐT',\r\n        searchText,\r\n        setSearchText,\r\n        searchedColumn,\r\n        setSearchColumn,\r\n        refInput\r\n      ),\r\n      title: 'SĐT',\r\n      dataIndex: 'phoneNumber',\r\n      key: 'phoneNumber',\r\n      sorter: (a, b) => a.phoneNumber.localeCompare(b.phoneNumber)\r\n    },\r\n    {\r\n      title: 'QR code',\r\n      key: 'qrcode',\r\n      render: (value, record) => {\r\n        return (\r\n          <QRCode\r\n            id={record.ticketId}\r\n            value={`${record.id}.${record.date}.${record.ticketId}`}\r\n          />\r\n        )\r\n      }\r\n    },\r\n    {\r\n      title: 'Ngày tạo',\r\n      dataIndex: 'date',\r\n      key: 'date',\r\n      render: (value, record) => {\r\n        return <Text>{moment(value).format('DD/MM/YYYY HH:mm')}</Text>\r\n      },\r\n      sorter: (a, b) => a.date > b.date\r\n    },\r\n    {\r\n      title: 'Vô hiệu hóa',\r\n      dataIndex: 'enable',\r\n      key: 'enable',\r\n      render: (value, record) => {\r\n        return (\r\n          <Space>\r\n            <Switch\r\n              checked={value}\r\n              onChange={checked => {\r\n                handleEnable(record, checked)\r\n              }}\r\n            />\r\n          </Space>\r\n        )\r\n      }\r\n    },\r\n    {\r\n      title: 'Tác vụ',\r\n      key: 'action',\r\n      render: (value, record) => {\r\n        return (\r\n          <Space>\r\n            <DownloadOutlined\r\n              style={{ fontSize: 20 }}\r\n              onClick={() => handleDownload(record)}\r\n            />\r\n            <DeleteOutlined\r\n              style={{ fontSize: 20, color: '#FF0000' }}\r\n              onClick={() => handleDelete(record)}\r\n            />\r\n          </Space>\r\n        )\r\n      }\r\n    }\r\n  ]\r\n\r\n  if (!isAuth) {\r\n    return (\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          flex: 1,\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n          flexDirection: 'column'\r\n        }}\r\n      >\r\n        <Title level={3} style={{ marginTop: 64 }}>\r\n          Nhập mật khẩu\r\n        </Title>\r\n        <Input\r\n          style={{ width: 200, marginBottom: 24, marginTop: 24 }}\r\n          onChange={event => setPass(event.target.value)}\r\n          placeholder=\"Nhập mật khẩu\"\r\n          value={pass}\r\n          type=\"password\"\r\n          onKeyPress={handleKeyPress}\r\n        />\r\n        <Button type=\"primary\" onClick={onInputPass} size=\"large\">\r\n          Vào\r\n        </Button>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={{ display: 'flex', flexDirection: 'column', flex: 1, padding: 48 }}\r\n    >\r\n      <Title level={2}>Danh sách vé</Title>\r\n      <Button\r\n        type=\"primary\"\r\n        icon={<PlusCircleOutlined />}\r\n        style={{ width: 200, marginBottom: 32 }}\r\n        onClick={() => setShowAddModal(true)}\r\n        size=\"large\"\r\n      >\r\n        Thêm vé mới\r\n      </Button>\r\n      <Table columns={ticketColumns} dataSource={tickets} />\r\n      <ModalAddTicket\r\n        isShow={showAddModal}\r\n        closeModal={() => setShowAddModal(false)}\r\n        downloadQR={downloadQR}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import Home from 'pages/Home/home.page'\nimport React from 'react'\nimport { HashRouter as Router, Route } from 'react-router-dom'\nimport './App.css'\n\nfunction App() {\n  return (\n    <Router>\n      <Route exact path=\"/\" component={Home} />\n    </Router>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\nimport { firebaseConfig } from './firebaseConfig'\nimport firebase from 'firebase'\nimport GlobalModal from 'components/GlobalModal'\n\nfirebase.initializeApp(firebaseConfig)\nfirebase.analytics()\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n    <GlobalModal />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n","export const firebaseConfig = {\r\n  apiKey: \"AIzaSyCIbYZAKvEmY9ns42xafyV54BFU6qUCmKI\",\r\n  authDomain: \"dau-giau.firebaseapp.com\",\r\n  databaseURL: \"https://dau-giau.firebaseio.com\",\r\n  projectId: \"dau-giau\",\r\n  storageBucket: \"dau-giau.appspot.com\",\r\n  messagingSenderId: \"801715659405\",\r\n  appId: \"1:801715659405:web:cb3eecc4840cd11abaf8c4\",\r\n  measurementId: \"G-XCRXMT5JYZ\"\r\n};"],"sourceRoot":""}