(this["webpackJsonpdau-cms"]=this["webpackJsonpdau-cms"]||[]).push([[0],{267:function(e,t,n){},479:function(e,t,n){},481:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(26),r=n.n(i),l=(n(267),n(53)),o=n(62),s=n(493),u=n(494),d=n(495),h=n(491),j=n(492),b=n(487),m=n(52),f=n(484),p=n(248),x=n.n(p),O=n(187),g=n.n(O),y=n(27),k=n(28),v=n(105),C=n(40),S=n(42),I=n(485),w=n(486),T=n(237),N=(Object(T.a)({forceRefresh:!0}),"NORMAL"),D="CHOICE",E=n(10),F=I.a.Text,M=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e){var a;return Object(y.a)(this,n),(a=t.call(this,e)).closeModal=function(){n.instance.setState({isShow:!1})},a.handleOk=function(){n.instance.state.onPress(),n.instance.closeModal()},a.handleCancel=function(){n.instance.closeModal()},n.instance=Object(v.a)(a),a.state={isShow:!1,title:"",content:"",type:N,onPress:function(){}},a}return Object(k.a)(n,[{key:"render",value:function(){return Object(E.jsx)(w.a,{title:n.instance.state.title,visible:n.instance.state.isShow,centered:!0,onOk:n.instance.handleOk,onCancel:n.instance.handleCancel,footer:n.instance.state.type===N?[Object(E.jsx)(m.a,{type:"primary",onClick:n.instance.handleOk,size:"large",children:"OK"},"okButton")]:[Object(E.jsx)(m.a,{onClick:n.instance.handleCancel,size:"large",children:"H\u1ee7y"},"cancelButton"),Object(E.jsx)(m.a,{size:"large",type:"primary",onClick:n.instance.handleOk,children:"OK"},"okButton")],children:Object(E.jsx)(F,{children:n.instance.state.content})})}}]),n}(c.a.Component);M.instance=null,M.alertMessage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Th\xf4ng b\xe1o",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u0110\xe3 x\u1ea3y ra l\u1ed7i",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:N,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};M.instance.setState({isShow:!0,title:e,content:t,type:n,onPress:a})};var B=n(64),z=n.n(B),A=n(239),K=n.n(A),P=n(240),V=n.n(P),X=n(241),R=n(489),L=n(490),Y=n(253),H=n(488),q=n(126),U=I.a.Text,J=q.a().shape({email:q.b().trim().label("Email").email("Email hi\u1ec7n t\u1ea1i kh\xf4ng h\u1ee3p l\u1ec7").required("* Vui l\xf2ng nh\u1eadp email"),phoneNumber:q.b().required("* Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i").matches(/((09|03|07|08|05)+([0-9]{8})\b)/,{message:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng h\u1ee3p l\u1ec7"}),fullname:q.b().trim().required("* Vui l\xf2ng nh\u1eadp t\xean").min(3,"T\xean \xedt nh\u1ea5t 3 k\xed t\u1ef1").matches(/(?:(?![0-9A-Z_a-z\xC0-\xC3\xC8-\xCA\xCC\xCD\xD2-\xD5\xD9\xDA\xDD\xE0-\xE3\xE8-\xEA\xEC\xED\xF2-\xF5\xF9\xFA\u0102\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01A0\u01A1\u01AF\u01B0\u1EA0-\u1EBD\u1EC0-\u1EF9])[\s\S])/,{message:"T\xean kh\xf4ng h\u1ee3p l\u1ec7"})});function Q(e){var t=e.isShow,n=e.closeModal,a=void 0===n?function(){}:n,c=e.downloadQR,i=void 0===c?function(e){}:c,r=function(e){s(e),a()},o=function(){a()},s=function(e){var t=(new Date).getTime(),n=Object(H.a)(),a=Object(l.a)(Object(l.a)({},e),{},{ticketId:n,date:t,enable:!0,checkInfo:{checkCount:0,checkPerson:null}});z.a.database().ref("/tickets").push(a).then((function(e){setTimeout((function(){i(n)}),1e3)})).catch((function(e){return M.alertMessage()}))},u=function(e,t,n){t>0&&"Enter"===e.key&&r(n)};return Object(E.jsx)(Y.a,{initialValues:{fullname:"",phoneNumber:"",email:""},validationSchema:J,onSubmit:function(e){s(e)},children:function(e){var n=e.handleChange,a=(e.handleBlur,e.handleSubmit,e.values),c=e.isValid,i=e.errors;e.touched,e.setFieldTouched;return Object(E.jsxs)(w.a,{title:"Th\xeam v\xe9",visible:t,centered:!0,onOk:r,onCancel:o,footer:[Object(E.jsx)(m.a,{onClick:o,size:"large",children:"H\u1ee7y"},"cancelButton"),Object(E.jsx)(m.a,{size:"large",type:"primary",onClick:r,disabled:!c,children:"Th\xeam"},"okButton")],children:[Object(E.jsxs)(R.a,{align:"middle",gutter:16,children:[Object(E.jsx)(L.a,{className:"gutter-row",span:6,children:Object(E.jsx)(U,{children:"T\xean"})}),Object(E.jsxs)(L.a,{style:{display:"flex",flexDirection:"column"},className:"gutter-row",span:18,children:[Object(E.jsx)(b.a,{onChange:n("fullname"),placeholder:"Nguy\u1ec5n V\u0103n A",value:a.fullname,onKeyPress:function(e){return u(e,c,a)}}),i.fullname&&Object(E.jsx)(U,{style:{color:"red"},children:i.fullname})]})]}),Object(E.jsxs)(R.a,{align:"middle",gutter:16,style:{marginTop:16},children:[Object(E.jsx)(L.a,{className:"gutter-row",span:6,children:Object(E.jsx)(U,{children:"Email"})}),Object(E.jsxs)(L.a,{style:{display:"flex",flexDirection:"column"},className:"gutter-row",span:18,children:[Object(E.jsx)(b.a,{onChange:n("email"),placeholder:"nguyenvana@gmail.com",value:a.email,type:"email",onKeyPress:function(e){return u(e,c,a)}}),i.email&&Object(E.jsx)(U,{style:{color:"red"},children:i.email})]})]}),Object(E.jsxs)(R.a,{align:"middle",gutter:16,style:{marginTop:16},children:[Object(E.jsx)(L.a,{className:"gutter-row",span:6,children:Object(E.jsx)(U,{children:"S\u0110T"})}),Object(E.jsxs)(L.a,{style:{display:"flex",flexDirection:"column"},className:"gutter-row",span:18,children:[Object(E.jsx)(b.a,{onChange:n("phoneNumber"),placeholder:"076XXXXXX",value:a.phoneNumber,type:"tel",onKeyPress:function(e){return u(e,c,a)}}),i.phoneNumber&&Object(E.jsx)(U,{style:{color:"red"},children:i.phoneNumber})]})]})]})}})}var Z=n(162),G=(n(389),n(247)),W=n.n(G),_=function(e,t,n,a,c,i,r){return{filterDropdown:function(n){var c=n.setSelectedKeys,l=n.selectedKeys,o=n.confirm,s=n.clearFilters;return Object(E.jsxs)("div",{style:{padding:8},children:[Object(E.jsx)(b.a,{ref:r,placeholder:t,value:l[0],onChange:function(e){return c(e.target.value?[e.target.value]:[])},onPressEnter:function(){return $(l,o,e,a,i)},style:{width:188,marginBottom:8,display:"block"}}),Object(E.jsxs)(h.b,{children:[Object(E.jsx)(m.a,{type:"primary",onClick:function(){return $(l,o,e,a,i)},icon:Object(E.jsx)(Z.a,{}),size:"small",style:{width:90},children:"T\xecm"}),Object(E.jsx)(m.a,{onClick:function(){return ee(s,a)},size:"small",style:{width:90},children:"C\xe0i l\u1ea1i"})]})]})},filterIcon:function(e){return Object(E.jsx)(Z.a,{style:{color:e?"grey":void 0}})},onFilter:function(t,n){return n[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return r.current.select()}))},render:function(t){return c===e?Object(E.jsx)(W.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[n],autoEscape:!0,textToHighlight:t.toString()}):t}}},$=function(e,t,n,a,c){t(),c(n),a(e[0])},ee=function(e,t){e(),t("")};var te=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)(!1),p=Object(o.a)(r,2),O=p[0],y=p[1],k=Object(a.useState)(""),v=Object(o.a)(k,2),C=v[0],S=v[1],I=Object(a.useState)([]),w=Object(o.a)(I,2),T=w[0],N=w[1],F=Object(a.useState)(""),B=Object(o.a)(F,2),A=B[0],P=B[1],R=Object(a.useState)(""),L=Object(o.a)(R,2),Y=L[0],H=L[1],q=Object(a.useRef)();Object(a.useEffect)((function(){return c&&z.a.database().ref("/tickets").on("value",(function(e){var t=e.val(),n=t&&Object.keys(t).length>0?Object.keys(t).map((function(e){return Object(l.a)(Object(l.a)({},t[e]),{},{id:e})})):[];N(n)})),function(){z.a.database().ref("/tickets").off()}}),[c]);var U=function(){"139f3d56ee09b7df537bf53a1ca5175f"===K()(C)?i(!0):M.alertMessage("Th\xf4ng b\xe1o","Sai m\u1eadt kh\u1ea9u")},J=function(e){var t=document.getElementById(e);if(t){var n=t.toDataURL("image/jpg").replace("image/jpg","image/octet-stream"),a=document.createElement("a");a.href=n,a.download="".concat(e,".jpg"),document.body.appendChild(a),a.click(),document.body.removeChild(a)}},Z=[Object(l.a)(Object(l.a)({},_("ticketId","Nh\u1eadp ID",A,P,Y,H,q)),{},{title:"ID",dataIndex:"ticketId",key:"ticketId",sorter:function(e,t){return e.ticketId.localeCompare(t.ticketId)}}),Object(l.a)(Object(l.a)({},_("fullname","Nh\u1eadp t\xean",A,P,Y,H,q)),{},{title:"T\xean",dataIndex:"fullname",key:"fullname",sorter:function(e,t){return e.fullname.localeCompare(t.fullname)}}),Object(l.a)(Object(l.a)({},_("email","Nh\u1eadp email",A,P,Y,H,q)),{},{title:"Email",dataIndex:"email",key:"email",sorter:function(e,t){return e.email.localeCompare(t.email)}}),Object(l.a)(Object(l.a)({},_("phoneNumber","Nh\u1eadp S\u0110T",A,P,Y,H,q)),{},{title:"S\u0110T",dataIndex:"phoneNumber",key:"phoneNumber",sorter:function(e,t){return e.phoneNumber.localeCompare(t.phoneNumber)}}),{title:"QR code",key:"qrcode",render:function(e,t){return Object(E.jsx)(X,{id:t.ticketId,value:"".concat(t.id,".").concat(t.date,".").concat(t.ticketId)})}},{title:"Ng\xe0y t\u1ea1o",dataIndex:"date",key:"date",render:function(e,t){return Object(E.jsx)(x.a,{children:V()(e).format("DD/MM/YYYY HH:mm")})},sorter:function(e,t){return e.date>t.date}},{title:"V\xf4 hi\u1ec7u h\xf3a",dataIndex:"enable",key:"enable",render:function(e,t){return Object(E.jsx)(h.b,{children:Object(E.jsx)(j.a,{checked:e,onChange:function(e){!function(e,t){M.alertMessage("X\xe1c nh\u1eadn",e.enable?"Ch\u1eafc ch\u1eafn v\xf4 hi\u1ec7u v\xe9 n\xe0y?":"Ch\u1eafc ch\u1eafn m\u1edf kh\xf3a v\xe9 n\xe0y?",D,(function(){z.a.database().ref("/tickets").child(e.id).update({ticketId:e.ticketId,date:e.date,enable:t}).catch((function(e){return M.alertMessage()}))}))}(t,e)}})})}},{title:"T\xe1c v\u1ee5",key:"action",render:function(e,t){return Object(E.jsxs)(h.b,{children:[Object(E.jsx)(s.a,{style:{fontSize:20},onClick:function(){return function(e){J(e.ticketId)}(t)}}),Object(E.jsx)(u.a,{style:{fontSize:20,color:"#FF0000"},onClick:function(){return function(e){M.alertMessage("X\xe1c nh\u1eadn","Ch\u1eafc ch\u1eafn x\xf3a v\xe9 n\xe0y?",D,(function(){z.a.database().ref("/tickets").child(e.id).remove().catch((function(e){return M.alertMessage()}))}))}(t)}})]})}}];return c?Object(E.jsxs)("div",{style:{display:"flex",flexDirection:"column",flex:1,padding:48},children:[Object(E.jsx)(g.a,{level:2,children:"Danh s\xe1ch v\xe9"}),Object(E.jsx)(m.a,{type:"primary",icon:Object(E.jsx)(d.a,{}),style:{width:200,marginBottom:32},onClick:function(){return y(!0)},size:"large",children:"Th\xeam v\xe9 m\u1edbi"}),Object(E.jsx)(f.a,{columns:Z,dataSource:T}),Object(E.jsx)(Q,{isShow:O,closeModal:function(){return y(!1)},downloadQR:J})]}):Object(E.jsxs)("div",{style:{display:"flex",flex:1,justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(E.jsx)(g.a,{level:3,style:{marginTop:64},children:"Nh\u1eadp m\u1eadt kh\u1ea9u"}),Object(E.jsx)(b.a,{style:{width:200,marginBottom:24,marginTop:24},onChange:function(e){return S(e.target.value)},placeholder:"Nh\u1eadp m\u1eadt kh\u1ea9u",value:C,type:"password",onKeyPress:function(e){C.length>0&&"Enter"===e.key&&U()}}),Object(E.jsx)(m.a,{type:"primary",onClick:U,size:"large",children:"V\xe0o"})]})},ne=n(259),ae=n(34);n(479);var ce=function(){return Object(E.jsx)(ne.a,{children:Object(E.jsx)(ae.a,{exact:!0,path:"/",component:te})})},ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,496)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};z.a.initializeApp({apiKey:"AIzaSyCIbYZAKvEmY9ns42xafyV54BFU6qUCmKI",authDomain:"dau-giau.firebaseapp.com",databaseURL:"https://dau-giau.firebaseio.com",projectId:"dau-giau",storageBucket:"dau-giau.appspot.com",messagingSenderId:"801715659405",appId:"1:801715659405:web:cb3eecc4840cd11abaf8c4",measurementId:"G-XCRXMT5JYZ"}),z.a.analytics(),r.a.render(Object(E.jsxs)(c.a.StrictMode,{children:[Object(E.jsx)(ce,{}),Object(E.jsx)(M,{})]}),document.getElementById("root")),ie()}},[[481,1,2]]]);
//# sourceMappingURL=main.424fe8bb.chunk.js.map