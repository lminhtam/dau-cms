(this["webpackJsonpdau-cms"]=this["webpackJsonpdau-cms"]||[]).push([[0],{223:function(e,t,n){},405:function(e,t,n){},407:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(26),r=n.n(i),o=(n(223),n(106)),s=n(98),l=n(417),u=n(418),d=n(419),h=n(415),f=n(416),j=n(413),b=n(45),O=n(410),g=n(204),p=n.n(g),m=n(156),y=n.n(m),k=n(196),x=n(197),v=n(115),C=n(215),I=n(212),S=n(411),w=n(412),M=n(198),T=(Object(M.a)({forceRefresh:!0}),"NORMAL"),D="CHOICE",z=n(19),B=S.a.Text,F=function(e){Object(C.a)(n,e);var t=Object(I.a)(n);function n(e){var c;return Object(k.a)(this,n),(c=t.call(this,e)).closeModal=function(){n.instance.setState({isShow:!1})},c.handleOk=function(){n.instance.state.onPress(),n.instance.closeModal()},c.handleCancel=function(){n.instance.closeModal()},n.instance=Object(v.a)(c),c.state={isShow:!1,title:"",content:"",type:T,onPress:function(){}},c}return Object(x.a)(n,[{key:"render",value:function(){return Object(z.jsx)(w.a,{title:n.instance.state.title,visible:n.instance.state.isShow,centered:!0,onOk:n.instance.handleOk,onCancel:n.instance.handleCancel,footer:n.instance.state.type===T?[Object(z.jsx)(b.a,{type:"primary",onClick:n.instance.handleOk,size:"large",children:"OK"},"okButton")]:[Object(z.jsx)(b.a,{onClick:n.instance.handleCancel,size:"large",children:"H\u1ee7y"},"cancelButton"),Object(z.jsx)(b.a,{size:"large",type:"primary",onClick:n.instance.handleOk,children:"OK"},"okButton")],children:Object(z.jsx)(B,{children:n.instance.state.content})})}}]),n}(a.a.Component);F.instance=null,F.alertMessage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Th\xf4ng b\xe1o",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u0110\xe3 x\u1ea3y ra l\u1ed7i",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};F.instance.setState({isShow:!0,title:e,content:t,type:n,onPress:c})};var E=n(63),K=n.n(E),L=n(200),P=n.n(L),R=n(201),Y=n.n(R),N=n(202),A=n(414),U=n(137),V=(n(247),n(203)),X=n.n(V),H=function(e,t,n,c,a,i,r){return{filterDropdown:function(n){var a=n.setSelectedKeys,o=n.selectedKeys,s=n.confirm,l=n.clearFilters;return Object(z.jsxs)("div",{style:{padding:8},children:[Object(z.jsx)(j.a,{ref:r,placeholder:t,value:o[0],onChange:function(e){return a(e.target.value?[e.target.value]:[])},onPressEnter:function(){return J(o,s,e,c,i)},style:{width:188,marginBottom:8,display:"block"}}),Object(z.jsxs)(h.b,{children:[Object(z.jsx)(b.a,{type:"primary",onClick:function(){return J(o,s,e,c,i)},icon:Object(z.jsx)(U.a,{}),size:"small",style:{width:90},children:"T\xecm"}),Object(z.jsx)(b.a,{onClick:function(){return q(l,c)},size:"small",style:{width:90},children:"C\xe0i l\u1ea1i"})]})]})},filterIcon:function(e){return Object(z.jsx)(U.a,{style:{color:e?"grey":void 0}})},onFilter:function(t,n){return n[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return r.current.select()}))},render:function(t){return a===e?Object(z.jsx)(X.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[n],autoEscape:!0,textToHighlight:t.toString()}):t}}},J=function(e,t,n,c,a){t(),a(n),c(e[0])},q=function(e,t){e(),t("")};var Z=function(e){var t=Object(c.useState)(!1),n=Object(s.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)(""),g=Object(s.a)(r,2),m=g[0],k=g[1],x=Object(c.useState)([]),v=Object(s.a)(x,2),C=v[0],I=v[1],S=Object(c.useState)(""),w=Object(s.a)(S,2),M=w[0],T=w[1],B=Object(c.useState)(""),E=Object(s.a)(B,2),L=E[0],R=E[1],U=Object(c.useRef)();Object(c.useEffect)((function(){return a&&K.a.database().ref("/tickets").on("value",(function(e){var t=e.val(),n=Object.keys(t).map((function(e){return Object(o.a)(Object(o.a)({},t[e]),{},{id:e})}));I(n)})),function(){K.a.database().ref("/tickets").off()}}),[a]);var V=function(){"139f3d56ee09b7df537bf53a1ca5175f"===P()(m)?i(!0):F.alertMessage("Th\xf4ng b\xe1o","Sai m\u1eadt kh\u1ea9u")},X=function(e){var t=document.getElementById(e).toDataURL("image/jpg").replace("image/jpg","image/octet-stream"),n=document.createElement("a");n.href=t,n.download="".concat(e,".jpg"),document.body.appendChild(n),n.click(),document.body.removeChild(n)},J=[Object(o.a)(Object(o.a)({},H("ticketId","Nh\u1eadp ID",M,T,L,R,U)),{},{title:"ID",dataIndex:"ticketId",key:"ticketId",sorter:function(e,t){return e.ticketId.localeCompare(t.ticketId)}}),{title:"QR code",key:"qrcode",render:function(e,t){return Object(z.jsx)(N,{id:t.ticketId,value:"".concat(t.id,".").concat(t.date,".").concat(t.ticketId)})}},{title:"Ng\xe0y t\u1ea1o",dataIndex:"date",key:"date",render:function(e,t){return Object(z.jsx)(p.a,{children:Y()(e).format("DD/MM/YYYY")})},sorter:function(e,t){return e.date>t.date}},{title:"V\xf4 hi\u1ec7u h\xf3a",dataIndex:"enable",key:"enable",render:function(e,t){return Object(z.jsx)(h.b,{children:Object(z.jsx)(f.a,{checked:e,onChange:function(e){!function(e,t){F.alertMessage("X\xe1c nh\u1eadn",e.enable?"Ch\u1eafc ch\u1eafn v\xf4 hi\u1ec7u v\xe9 n\xe0y?":"Ch\u1eafc ch\u1eafn m\u1edf kh\xf3a v\xe9 n\xe0y?",D,(function(){K.a.database().ref("/tickets").child(e.id).update({ticketId:e.ticketId,date:e.date,enable:t}).catch((function(e){return F.alertMessage()}))}))}(t,e)}})})}},{title:"T\xe1c v\u1ee5",key:"action",render:function(e,t){return Object(z.jsxs)(h.b,{children:[Object(z.jsx)(l.a,{style:{fontSize:20},onClick:function(){return function(e){X(e.ticketId)}(t)}}),Object(z.jsx)(u.a,{style:{fontSize:20,color:"#FF0000"},onClick:function(){return function(e){F.alertMessage("X\xe1c nh\u1eadn","Ch\u1eafc ch\u1eafn x\xf3a v\xe9 n\xe0y?",D,(function(){K.a.database().ref("/tickets").child(e.id).remove().catch((function(e){return F.alertMessage()}))}))}(t)}})]})}}];return a?Object(z.jsxs)("div",{style:{display:"flex",flexDirection:"column",flex:1,padding:48},children:[Object(z.jsx)(y.a,{level:2,children:"Danh s\xe1ch v\xe9"}),Object(z.jsx)(b.a,{type:"primary",icon:Object(z.jsx)(d.a,{}),style:{width:200,marginBottom:32},onClick:function(){return function(){var e=(new Date).getTime(),t=Object(A.a)(),n={ticketId:t,date:e,enable:!0};K.a.database().ref("/tickets").push(n).then((function(e){setTimeout((function(){X(t)}),1e3)})).catch((function(e){return F.alertMessage()}))}()},size:"large",children:"Th\xeam v\xe9 m\u1edbi"}),Object(z.jsx)(O.a,{columns:J,dataSource:C})]}):Object(z.jsxs)("div",{style:{display:"flex",flex:1,justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(z.jsx)(y.a,{level:3,style:{marginTop:64},children:"Nh\u1eadp m\u1eadt kh\u1ea9u"}),Object(z.jsx)(j.a,{style:{width:200,marginBottom:24,marginTop:24},onChange:function(e){return k(e.target.value)},placeholder:"Nh\u1eadp m\u1eadt kh\u1ea9u",value:m,type:"password",onKeyPress:function(e){m.length>0&&"Enter"===e.key&&V()}}),Object(z.jsx)(b.a,{type:"primary",onClick:V,size:"large",children:"V\xe0o"})]})},G=n(216),Q=n(31);n(405);var W=function(){return Object(z.jsx)(G.a,{children:Object(z.jsx)(Q.a,{exact:!0,path:"/",component:Z})})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,420)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))};K.a.initializeApp({apiKey:"AIzaSyCIbYZAKvEmY9ns42xafyV54BFU6qUCmKI",authDomain:"dau-giau.firebaseapp.com",databaseURL:"https://dau-giau.firebaseio.com",projectId:"dau-giau",storageBucket:"dau-giau.appspot.com",messagingSenderId:"801715659405",appId:"1:801715659405:web:cb3eecc4840cd11abaf8c4",measurementId:"G-XCRXMT5JYZ"}),K.a.analytics(),r.a.render(Object(z.jsxs)(a.a.StrictMode,{children:[Object(z.jsx)(W,{}),Object(z.jsx)(F,{})]}),document.getElementById("root")),$()}},[[407,1,2]]]);
//# sourceMappingURL=main.f27b6818.chunk.js.map